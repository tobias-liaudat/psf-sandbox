# Test results

***

# TL

## Test summary

### Simulated data

<table>
<tr><th> Test 1 </th><th> Test 2 </th><th> Test 3 </th></tr>
<tr><td>

|      Test 1  |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td><td>

|     Test 2   |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    10  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td><td>

|   Test 3     |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    20  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td></tr> </table>


<table>
<tr><th> Test 4 </th><th> Test 5 </th><th> Test 7 </th><th> Test 8 </th></tr>
<tr><td>

|    Test 4    |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    8   |
|  n_eigenVec  |    10  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 


</td><td>

|   Test 5     |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    4   |
|  n_eigenVec  |    10  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td><td>

|     Test 7   |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    50  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   1    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td><td>

|     Test 8   |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    50  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   3    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td></tr> </table>

<table>
<tr><th> Test 9 </th><th> Test 10 </th><th> Test 11 </th></tr>
<tr><td>

|      Test 9  |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td><td>

|     Test 10  |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   0.5  |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td><td>

|   Test 11    |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td></tr> </table>

<table>
<tr><th> Test 14 </th><th> Test 15 </th><th> Test 16 </th><th> Test 17 </th></tr>
<tr><td>

|    Test 14   |  Value |
|:------------:|:------:|
|  CCD_n       |    38  | 
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      |   None | 



</td><td>

|   Test 15    |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |    
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |   1e-3 |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      | PSFEx  | 

</td><td>

|     Test 16  |  Value |
|:------------:|:------:|
|  CCD_n       |    2   | 
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    
</td><td>

|     Test 17  |  Value |
|:------------:|:------:|
|  CCD_n       |    2   | 
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      |  PSFEx | 
    
</td></tr> </table>

### Reuced simulated data (data subset)

<table>
<tr><th> Test 12 </th><th> Test 13 </th></tr>
<tr><td>

|      Test 12 |  Value |
|:------------:|:------:|
|  CCD_n       |    38  | 
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
|   nb_iter    |   4    |
| Apply_degrad |  True  |
|   ALPHA      |   None |
    
</td><td>

|     Test 13  |  Value |
|:------------:|:------:|
|  CCD_n       |    38  | 
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
|   nb_iter    |   2    |
| Apply_degrad |  True  |
|   ALPHA      |   None |
    
</td></tr> </table>

### Real CFIS data

#### Test and train on _the same_ star catalog, CCD = 38

<table>
<tr><th> Test 1 </th><th> Test 2 </th><th> Test 3 </th><th> Test 4 </th></tr>
<tr><td>

|      Test 1  |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    8   |
|  n_eigenVec  |    10  |
|   test_per   |   1    |
|   KSIG       |   3    |
| Apply_degrad |  True  |
    
</td><td>

|     Test 2   |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    10  |
|   test_per   |   1    |
|   KSIG       |   3    |
| Apply_degrad |  True  |

</td><td>

|   Test 3     |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    10  |
|   test_per   |   1    |
|   KSIG       |   3    |
| Apply_degrad |  True  |

</td><td>

|   Test 4     |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    5   |
|   test_per   |   1    |
|   KSIG       |   0.5  |
| Apply_degrad |  True  |

</td></tr> </table>



#### Test and train on _separate_ star catalogs, CCD = 38

<table>
<tr><th> Test 5 </th><th> Test 6 </th></tr>
<tr><td>

|      Test 5  |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    5   |
|   test_per   |   1    |
|   KSIG       |   0.5  |
| Apply_degrad |  True  |
    
</td><td>

|     Test 6   |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    5   |
|   test_per   |   1    |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |

</td></tr> </table>




***

## Test 1

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/2d-plot-test1.png" width="600" align="middle">

## Test 2

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    10  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/2d-plot-test2.png" width="600" align="middle">

## Test 3

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    20  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/2d-plot-test3.png" width="600" align="middle">

## Test 4

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    8   |
|  n_eigenVec  |    10  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/2d-plot-test4.png" width="600" align="middle">

## Test 5

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    4   |
|  n_eigenVec  |    10  |
|  sigmaNoise  | 0.4e-3 |
|   test_per   |   0.8  |
|   KSIG       |   3    |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/2d-plot-test5.png" width="600" align="middle">



## Test 7

- JB dataset: Consists of simulated stars. Each catalog (of one CCD) includes 50 test stars, one for each pixel and is placed on each one of their centres. Then 50 train stars that maintain the ellipticity of their corresponding pixel but are shifted within the domains of its pixel. The pixels of the train stars are picked randomly so there might be pixels with more than one star and pixels with no stars at all.

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    50  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   1    |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/test-7-3D.png" width="600" align="middle">

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test7.png" width="600" align="middle">


## Test 8

- JB datase used.

|     Test 8   |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    50  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   3    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 
    

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/test-8-3D.png" width="600" align="middle">

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test8.png" width="600" align="middle">



## Test 9

|      Test 9  |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test9.png" width="600" align="middle">

## Test 10

|     Test 10  |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    32  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   0.5  |
| Apply_degrad |  True  |
|   ALPHA      |   None | 

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test10.png" width="600" align="middle">

## Test 11

|   Test 11    |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
| Apply_degrad |  True  |
|   ALPHA      |   None | 

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test11.png" width="600" align="middle">

## Test 12

| Reduced dataset |  Value |
|:------------:|:------:|
|  CCD_n       |    38  | 
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
|   nb_iter    |   4    |
| Apply_degrad |  True  |
|   ALPHA      |   None |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test12.png" width="600" align="middle">

## Test 13

| Reduced dataset |  Value |
|:------------:|:------:|
|  CCD_n       |    38  | 
|  n_eigenPSF  |    16  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   1    |
|   nb_iter    |   2    |
| Apply_degrad |  True  |
|   ALPHA      |   None |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test13.png" width="600" align="middle">

## Test 14

|    Test 14   |  Value |
|:------------:|:------:|
|  CCD_n       |    38  | 
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      |   None |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test14.png" width="600" align="middle">

## Test 15

|   Test 15    |  Value |
|:------------:|:------:|
|  CCD_n       |    38  |    
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |   1e-3 |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      | PSFEx  | 

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test15.png" width="600" align="middle">

## Test 16

|     Test 16  |  Value |
|:------------:|:------:|
|  CCD_n       |    2   | 
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      |   None | 

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test16.png" width="600" align="middle">

## Test 17

|     Test 17  |  Value |
|:------------:|:------:|
|  CCD_n       |    2   | 
|  n_eigenPSF  |    24  |
|  n_eigenVec  |    5   |
|  sigmaNoise  |  1e-3  |
|   test_per   |   0.5  |
|   KSIG       |   0.1  |
| Apply_degrad |  True  |
|   ALPHA      |  PSFEx |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/TL_test17.png" width="600" align="middle">

***

# JB

## Test 1

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    4   |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.8  |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/JB_test1.png" width="600" align="middle">

## Test 2

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |    8   |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.8  |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/JB_test2.png" width="600" align="middle">

## Test 3

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |   16   |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.8  |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/JB_test3.png" width="600" align="middle">

## Test 4

|              |  Value |
|:------------:|:------:|
|  n_eigenPSF  |   32   |
|  n_eigenVec  |    5   |
|  sigmaNoise  | 1e-3   |
|   test_per   |   0.8  |
| Apply_degrad |  True  |

<img src="https://github.com/tobias-liaudat/psf-sandbox/blob/master/test-results/imgs/JB_test4.png" width="600" align="middle">

***
